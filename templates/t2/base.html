<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>{% block title %}T2-Closer System{% endblock %} • Business Tool Hub</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="{{ url_for('static', filename='logo.png') }}">

  <!-- Tailwind CSS + DaisyUI -->
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdn.jsdelivr.net/npm/daisyui@4.12.10/dist/full.min.css" rel="stylesheet" type="text/css" />

  <!-- Lucide Icons -->
  <script src="https://unpkg.com/lucide@latest"></script>

  <!-- AOS Animations -->
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>

  <!-- Alpine.js -->
  <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>

  <!-- Original Admin Styles (Fallback) -->
  <link rel="stylesheet" href="{{ url_for('static', filename='admin_style.css') }}">

  <!-- Tailwind Config -->
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          colors: {
            'primary': '#5ab1ff',
            'secondary': '#10b981',
            'accent': '#f97316',
            't2-purple': '#a855f7',
          },
        },
      },
    }
  </script>

  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');

    body {
      font-family: 'Inter', var(--font-sans), sans-serif;
    }

    /* Glass Effect */
    .glass {
      background: var(--box-bg);
      backdrop-filter: blur(20px) saturate(180%);
      -webkit-backdrop-filter: blur(20px) saturate(180%);
      border: 1px solid var(--box-border);
      box-shadow: var(--shadow);
    }

    /* T2 Closer Card Styling */
    .closer-card {
      position: relative;
      overflow: hidden;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .closer-card::after {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: radial-gradient(circle, rgba(168, 85, 247, 0.1) 0%, transparent 70%);
      opacity: 0;
      transition: opacity 0.3s;
    }

    .closer-card:hover::after {
      opacity: 1;
    }

    .closer-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 20px 60px rgba(168, 85, 247, 0.3);
    }

    /* Ticket Badge Animation */
    .ticket-badge {
      animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
    }

    @keyframes pulse {
      0%, 100% {
        opacity: 1;
      }
      50% {
        opacity: 0.7;
      }
    }
  </style>

  {% block extra_css %}{% endblock %}
</head>
<body class="bg-[var(--bg)]" x-data="{ theme: localStorage.getItem('theme') || 'darkmode' }" :class="theme">

  <!-- Theme Toggle -->
  <button
    id="mode-toggle"
    @click="theme = theme === 'darkmode' ? 'lightmode' : 'darkmode'; localStorage.setItem('theme', theme); document.body.className = theme"
    class="fixed top-6 right-6 z-50 w-12 h-12 glass rounded-full flex items-center justify-center hover:scale-110 transition-transform cursor-pointer"
    data-aos="fade-left">
    <i :data-lucide="theme === 'darkmode' ? 'sun' : 'moon'" class="w-6 h-6"></i>
  </button>

  <!-- Back to Hub Button -->
  <a href="{{ url_for('hub.dashboard') }}"
     class="fixed top-6 left-6 z-50 glass px-6 py-3 rounded-xl flex items-center gap-3 hover:bg-white/10 transition-all group"
     data-aos="fade-right">
    <i data-lucide="arrow-left" class="w-5 h-5 group-hover:-translate-x-1 transition-transform"></i>
    <span class="hidden md:inline">Zurück zum Hub</span>
  </a>

  <!-- Main Container -->
  <div class="t2-container max-w-7xl mx-auto px-4 py-24 md:py-32">

    <!-- Header -->
    <header class="glass rounded-3xl p-8 md:p-12 mb-12" data-aos="fade-down">
      <div class="flex flex-col md:flex-row items-center gap-6">
        <div class="w-20 h-20 rounded-2xl bg-gradient-to-br from-t2-purple to-pink-600 flex items-center justify-center flex-shrink-0">
          <i data-lucide="target" class="w-10 h-10 text-white"></i>
        </div>
        <div class="text-center md:text-left">
          <h1 class="text-4xl md:text-5xl font-bold text-[var(--accent)] mb-2">
            {% block header_title %}T2-Closer System{% endblock %}
          </h1>
          <p class="text-lg text-[var(--muted)]">
            {% block header_subtitle %}Vereinbare qualifizierte Abschlusstermine{% endblock %}
          </p>
        </div>
      </div>
    </header>

    <!-- Content -->
    <div data-aos="fade-up" data-aos-delay="100">
      {% block content %}{% endblock %}
    </div>

  </div>

  <!-- Footer -->
  <footer class="glass mt-24 py-8" data-aos="fade-up">
    <div class="max-w-7xl mx-auto px-4">
      <div class="flex flex-col md:flex-row justify-between items-center gap-4">
        <div class="flex items-center gap-3">
          <div class="w-10 h-10 rounded-lg bg-gradient-to-br from-t2-purple to-pink-600 flex items-center justify-center">
            <i data-lucide="zap" class="w-5 h-5 text-white"></i>
          </div>
          <div class="text-sm">
            <p class="font-semibold text-[var(--text-color)]">T2-Closer System</p>
            <p class="text-[var(--muted)]">Professionelles Termin-Management</p>
          </div>
        </div>
        <div class="flex items-center gap-6 text-sm text-[var(--muted)]">
          <a href="/health" class="flex items-center gap-2 hover:text-[var(--accent)] transition-colors">
            <i data-lucide="activity" class="w-4 h-4"></i>
            <span>Status</span>
          </a>
          <span>Version 3.2</span>
        </div>
      </div>
    </div>
  </footer>

  <!-- JavaScript -->
  <script>
    // Initialize Lucide Icons
    lucide.createIcons();

    // Initialize AOS
    AOS.init({
      duration: 600,
      easing: 'ease-out-cubic',
      once: true,
      offset: 50
    });

    // Apply theme on load
    const savedTheme = localStorage.getItem('theme') || 'darkmode';
    document.body.className = savedTheme;

    // Re-init icons after Alpine loads
    document.addEventListener('alpine:initialized', () => {
      setTimeout(() => lucide.createIcons(), 100);
    });
  </script>

  {% block extra_js %}{% endblock %}
</body>
</html>
