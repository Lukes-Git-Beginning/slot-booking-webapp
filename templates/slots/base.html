{% extends "base.html" %}

{% block title %}{% block slot_title %}Slot-Booking{% endblock %}{% endblock %}

{% block area_css %}
    <style nonce="{{ csp_nonce }}">
        /* Slot Card Hover Animation */
        .slot-card {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .slot-card:hover {
            transform: translateY(-4px) scale(1.02);
            box-shadow: 0 20px 60px rgba(212, 175, 106, 0.3);
        }
    </style>
{% endblock %}

{% block navbar %}
    <!-- Fixed Action Buttons -->
    <div class="fixed top-6 left-6 right-6 z-50 flex items-center justify-between pointer-events-none">
        <!-- Back to Hub Button -->
        <a href="{{ url_for('hub.dashboard') }}"
           class="glass px-6 py-3 rounded-xl flex items-center gap-3 hover:bg-white/10 transition-all group pointer-events-auto"
           data-aos="fade-right">
            <i data-lucide="arrow-left" class="w-5 h-5 group-hover:-translate-x-1 transition-transform"></i>
            <span class="hidden md:inline">Zurück zum Hub</span>
        </a>

        <!-- Theme Toggle -->
        <button @click="theme = theme === 'dark' ? 'light' : 'dark'; localStorage.setItem('theme', theme);"
                class="btn btn-circle btn-ghost hover:bg-white/10 glass pointer-events-auto"
                data-aos="fade-left">
            <i data-lucide="sun" class="w-6 h-6" x-show="theme === 'dark'"></i>
            <i data-lucide="moon" class="w-6 h-6" x-show="theme === 'light'"></i>
        </button>
    </div>
{% endblock %}

{% block main_wrapper %}
    <!-- Main Content -->
    <main class="container mx-auto px-4 py-24 md:py-32 min-h-[calc(100vh-200px)]">
        <!-- Header -->
        <header class="glass rounded-3xl p-8 md:p-12 mb-12 text-center" data-aos="fade-down">
            <div class="inline-flex items-center justify-center w-20 h-20 rounded-2xl bg-gradient-to-br from-primary to-secondary mb-6">
                <i data-lucide="calendar-check" class="w-10 h-10 text-white"></i>
            </div>
            <h1 class="text-4xl md:text-5xl font-bold text-white mb-4">
                {% block header_title %}Slot Buchung{% endblock %}
            </h1>
            <p class="text-lg text-white/70">
                {% block header_subtitle %}Wähle deinen bevorzugten Zeitslot{% endblock %}
            </p>
        </header>

        <!-- Content -->
        <div data-aos="fade-up" data-aos-delay="100">
            {% block content %}{% endblock %}
        </div>
    </main>
{% endblock %}

{% block footer %}
    <!-- Footer -->
    <footer class="glass mt-24 py-8 backdrop-blur-xl" data-aos="fade-up">
        <div class="container mx-auto px-4">
            <div class="flex flex-col md:flex-row justify-between items-center gap-4">
                <div class="flex items-center gap-2 text-white/70">
                    <i data-lucide="shield-check" class="w-4 h-4"></i>
                    <span>Sicher & Zuverlässig</span>
                </div>
                <div class="flex items-center gap-6 text-sm text-white/60">
                    <a href="/health" class="flex items-center gap-2 hover:text-primary transition-colors">
                        <i data-lucide="activity" class="w-4 h-4"></i>
                        <span>Status</span>
                    </a>
                    <span>Version 3.3.15</span>
                </div>
            </div>
        </div>
    </footer>
{% endblock %}
