<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>{% block title %}Slot-Booking{% endblock %} • Business Tool Hub</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="{{ url_for('static', filename='logo.png') }}">

  <!-- Bootstrap 5 CSS -->
  <link href="{{ url_for('static', filename='bootstrap.min.css') }}" rel="stylesheet" type="text/css" />

  <!-- Font Awesome Icons -->
  <link href="{{ url_for('static', filename='fontawesome.min.css') }}" rel="stylesheet" type="text/css" />

  <!-- Lucide Icons (fallback) -->
  <script src="{{ url_for('static', filename='lucide.js') }}"></script>

  <!-- AOS Animations -->
  <link href="{{ url_for('static', filename='aos.css') }}" rel="stylesheet">
  <script src="{{ url_for('static', filename='aos.js') }}"></script>

  <!-- Admin Styles with Glasmorphism Design -->
  <link rel="stylesheet" href="{{ url_for('static', filename='admin_style.css') }}">

  <style>
    /* Google Fonts entfernt - nutzt System-Fonts */
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    }

    /* Glass Effect */
    .glass {
      background: var(--box-bg);
      backdrop-filter: blur(20px) saturate(180%);
      -webkit-backdrop-filter: blur(20px) saturate(180%);
      border: 1px solid var(--box-border);
      box-shadow: var(--shadow);
    }

    /* Slot Card Hover Animation */
    .slot-card {
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .slot-card:hover {
      transform: translateY(-4px) scale(1.02);
      box-shadow: 0 20px 60px rgba(90, 177, 255, 0.3);
    }

    /* Berater Card */
    .berater-card {
      position: relative;
      overflow: hidden;
    }

    .berater-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, var(--accent), var(--primary));
    }
  </style>

  {% block extra_css %}{% endblock %}
</head>
<body class="bg-[var(--bg)]" x-data="{ theme: localStorage.getItem('theme') || 'darkmode' }" :class="theme">

  <!-- Theme Toggle -->
  <button
    id="theme-toggle"
    @click="theme = theme === 'darkmode' ? 'lightmode' : 'darkmode'; localStorage.setItem('theme', theme); document.body.className = theme"
    class="fixed top-6 right-6 z-50 w-12 h-12 glass rounded-full flex items-center justify-center hover:scale-110 transition-transform cursor-pointer"
    data-aos="fade-left">
    <i :data-lucide="theme === 'darkmode' ? 'sun' : 'moon'" class="w-6 h-6"></i>
  </button>

  <!-- Back to Hub Button -->
  <a href="{{ url_for('hub.dashboard') }}"
     class="fixed top-6 left-6 z-50 glass px-6 py-3 rounded-xl flex items-center gap-3 hover:bg-white/10 transition-all group"
     data-aos="fade-right">
    <i data-lucide="arrow-left" class="w-5 h-5 group-hover:-translate-x-1 transition-transform"></i>
    <span class="hidden md:inline">Zurück zum Hub</span>
  </a>

  <!-- Main Container -->
  <div class="slots-container max-w-7xl mx-auto px-4 py-24 md:py-32">

    <!-- Header -->
    <header class="glass rounded-3xl p-8 md:p-12 mb-12 text-center" data-aos="fade-down">
      <div class="inline-flex items-center justify-center w-20 h-20 rounded-2xl bg-gradient-to-br from-primary to-secondary mb-6">
        <i data-lucide="calendar-check" class="w-10 h-10 text-white"></i>
      </div>
      <h1 class="text-4xl md:text-5xl font-bold text-[var(--accent)] mb-4">
        {% block header_title %}Slot Buchung{% endblock %}
      </h1>
      <p class="text-lg text-[var(--muted)]">
        {% block header_subtitle %}Wähle deinen bevorzugten Zeitslot{% endblock %}
      </p>
    </header>

    <!-- Content -->
    <div data-aos="fade-up" data-aos-delay="100">
      {% block content %}{% endblock %}
    </div>

  </div>

  <!-- Footer -->
  <footer class="glass mt-24 py-8" data-aos="fade-up">
    <div class="max-w-7xl mx-auto px-4">
      <div class="flex flex-col md:flex-row justify-between items-center gap-4 text-sm text-[var(--muted)]">
        <div class="flex items-center gap-2">
          <i data-lucide="shield-check" class="w-4 h-4"></i>
          <span>Sicher & Zuverlässig</span>
        </div>
        <div class="flex items-center gap-6">
          <a href="/health" class="flex items-center gap-2 hover:text-[var(--accent)] transition-colors">
            <i data-lucide="activity" class="w-4 h-4"></i>
            <span>Status</span>
          </a>
          <span>Version 3.3.0</span>
        </div>
      </div>
    </div>
  </footer>

  <!-- JavaScript -->
  <script>
    // Initialize Lucide Icons
    lucide.createIcons();

    // Initialize AOS
    AOS.init({
      duration: 600,
      easing: 'ease-out-cubic',
      once: true,
      offset: 50
    });

    // Apply theme on load
    const savedTheme = localStorage.getItem('theme') || 'darkmode';
    document.body.className = savedTheme;

    // Re-init icons after Alpine loads
    document.addEventListener('alpine:initialized', () => {
      setTimeout(() => lucide.createIcons(), 100);
    });
  </script>

  {% block extra_js %}{% endblock %}
</body>
</html>
