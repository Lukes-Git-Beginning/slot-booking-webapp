/* ===========================
   ZFA Slot Manager – Admin Style (Glasoptik)
   Ersetzt die alte admin_style.css vollständig.
   =========================== */

/* ---------- Farb- & UI-Variablen ---------- */
:root {
  --bg: #0b0f14;
  --bg-grad-1: #0b0f14;
  --bg-grad-2: #121922;
  --text-color: #e5eef7;
  --muted: #9aa7b5;
  --accent: #5ab1ff;

  --box-bg: rgba(18, 24, 32, 0.65);
  --box-border: rgba(255,255,255,.12);
  --shadow: 0 10px 30px rgba(0,0,0,.35);

  --green: #10b981;
  --yellow: #eab308;
  --orange: #f97316;
  --red: #ef4444;

  --success-bg: rgba(16,185,129,.15);
  --success-bd: rgba(16,185,129,.35);
  --danger-bg: rgba(239,68,68,.15);
  --danger-bd: rgba(239,68,68,.35);

  --radius-lg: 14px;
  --radius-md: 12px;
  --radius-sm: 10px;

  --focus: 0 0 0 3px rgba(90,177,255,.35);
  --input-bg: rgba(255,255,255,.06);
  --input-bd: rgba(255,255,255,.18);
}

/* Lightmode-Overrides (per Body-Klasse gesetzt) */
body.lightmode {
  --bg: #eef4fb;
  --bg-grad-1: #f3f7fb;
  --bg-grad-2: #e7eef6;
  --text-color: #0b1320;
  --muted: #475569;
  --accent: #2563eb;

  --box-bg: rgba(255,255,255,.65);
  --box-border: rgba(0,0,0,.08);
  --shadow: 0 8px 24px rgba(0,0,0,.15);

  --success-bg: rgba(16,185,129,.12);
  --success-bd: rgba(16,185,129,.25);
  --danger-bg: rgba(239,68,68,.12);
  --danger-bd: rgba(239,68,68,.25);

  --input-bg: rgba(255,255,255,.85);
  --input-bd: rgba(0,0,0,.10);
}

/* ---------- Base ---------- */
* { box-sizing: border-box; }
html, body { height: 100%; }

body {
  margin: 0;
  color: var(--text-color);
  font: 15px/1.45 system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
  background: radial-gradient(1000px 600px at 20% 10%, rgba(90,177,255,.08), transparent),
              linear-gradient(180deg, var(--bg-grad-1), var(--bg-grad-2));
  background-attachment: fixed;
}

/* Fokus sichtbar & zugänglich */
:focus-visible {
  outline: none;
  box-shadow: var(--focus);
  border-radius: 8px;
}

/* ---------- Buttons, Inputs ---------- */
button, .btn {
  cursor: pointer;
  border: 1px solid var(--box-border);
  background: linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.04));
  color: var(--text-color);
  padding: 8px 12px;
  border-radius: 10px;
  transition: transform .06s ease, background .2s ease, border-color .2s ease;
  box-shadow: 0 2px 10px rgba(0,0,0,.2);
}
button:hover, .btn:hover { transform: translateY(-1px); border-color: rgba(255,255,255,.2); }
button:active, .btn:active { transform: translateY(0); }

input, select, textarea {
  width: 100%;
  color: var(--text-color);
  background: var(--input-bg);
  border: 1px solid var(--input-bd);
  border-radius: 10px;
  padding: 8px 10px;
  outline: none;
}
textarea { min-height: 70px; resize: vertical; }

label { display:block; margin: 6px 0 4px; color: var(--muted); }

/* ---------- Layout: Sidebar + Main ---------- */
.sidebar {
  position: fixed;
  top: 0; left: 0;
  width: 290px;
  height: 100vh;
  padding: 16px;
  overflow-y: auto;
  background: var(--box-bg);
  border-right: 1px solid var(--box-border);
  backdrop-filter: blur(12px) saturate(140%);
  -webkit-backdrop-filter: blur(12px) saturate(140%);
  box-shadow: var(--shadow);
  transition: transform .25s ease;
  z-index: 50;
}

/* default: eingeklappt; per JS wird .collapsed entfernt */
.sidebar { transform: translateX(-100%); }
.sidebar.collapsed { transform: translateX(-100%); }
.sidebar:not(.collapsed) { transform: translateX(0); }

.sidebar .sidebar-toggle {
  position: absolute; right: -14px; top: 12px;
  border-radius: 50%;
  width: 34px; height: 34px;
  border: 1px solid var(--box-border);
  background: var(--box-bg);
}

.main {
  padding: 18px;
  margin-left: 0;
  transition: margin-left .25s ease;
}
.main.with-sidebar { margin-left: 310px; }

@media (max-width: 1100px) {
  .main.with-sidebar { margin-left: 0; }
}

/* ---------- Glasblöcke ---------- */
.glass {
  background: linear-gradient(135deg, rgba(255,255,255,.10), rgba(255,255,255,.04));
  border: 1px solid var(--box-border);
  border-radius: var(--radius-lg);
  backdrop-filter: blur(12px) saturate(140%);
  -webkit-backdrop-filter: blur(12px) saturate(140%);
  box-shadow: var(--shadow);
}
.glass-soft {
  background: linear-gradient(135deg, rgba(255,255,255,.07), rgba(255,255,255,.03));
  border: 1px solid var(--box-border);
  border-radius: var(--radius-md);
  backdrop-filter: blur(8px) saturate(120%);
  -webkit-backdrop-filter: blur(8px) saturate(120%);
}
.panel { padding: 16px; margin-bottom: 16px; }
.panel h2 { margin: 0 0 10px; font-size: 1.2em; display:flex; align-items:center; gap:8px; }

/* ---------- Nav / KW-Leiste ---------- */
.nav {
  display: flex; flex-wrap: wrap; gap: 8px;
  margin: 8px 0 14px;
}
.nav a {
  text-decoration: none;
  color: var(--text-color);
  padding: 6px 10px;
  border-radius: 10px;
  border: 1px solid var(--box-border);
  background: var(--box-bg);
}
.nav a.active { border-color: var(--accent); box-shadow: 0 0 0 2px rgba(90,177,255,.25) inset; }

/* Sidebar KW-Links */
.kw-link {
  display:block; padding:8px 10px; border-radius: 8px; text-decoration:none;
}
.kw-link.active { background: rgba(90,177,255,.12); border-left:3px solid var(--accent); }

/* ---------- Slot Sektionen ---------- */
.time-section {
  display: flex;
  gap: 14px;
  padding: 12px;
  border-radius: var(--radius-lg);
  border: 1px solid var(--box-border);
  background: var(--box-bg);
  margin-bottom: 12px;
}
.time-section .info { flex: 1; }
.time-section .slot { margin-top: 8px; }

.time-section.green  { box-shadow: inset 0 0 0 2px rgba(16,185,129,.20); }
.time-section.yellow { box-shadow: inset 0 0 0 2px rgba(234,179,8,.20); }
.time-section.orange { box-shadow: inset 0 0 0 2px rgba(249,115,22,.20); }
.time-section.red    { box-shadow: inset 0 0 0 2px rgba(239,68,68,.20); }

/* Slot-Form */
.slot form {
  display: grid;
  grid-template-columns: 1.2fr 1.2fr 2fr 1fr auto;
  gap: 8px;
}
@media (max-width: 900px) {
  .slot form { grid-template-columns: 1fr 1fr; }
  .slot form textarea { grid-column: 1 / -1; }
}

/* ---------- Flash Messages ---------- */
[class^="flash-"] {
  padding: 10px 12px;
  border-radius: var(--radius-md);
  border: 1px solid var(--box-border);
  background: var(--box-bg);
  margin-bottom: 12px;
}
.flash-success { background: var(--success-bg); border-color: var(--success-bd); }
.flash-danger  { background: var(--danger-bg);  border-color: var(--danger-bd);  }
.flash-warning { background: rgba(234,179,8,.15); border-color: rgba(234,179,8,.35); }
.flash-info    { background: rgba(59,130,246,.15); border-color: rgba(59,130,246,.35); }

/* ---------- Tabellen ---------- */
table {
  width: 100%;
  border-collapse: collapse;
  background: var(--box-bg);
  border: 1px solid var(--box-border);
  border-radius: var(--radius-lg);
  overflow: hidden;
}
th, td { padding: 10px; border-bottom: 1px solid rgba(255,255,255,.08); text-align: left; }
thead th { font-weight: 600; color: var(--muted); background: rgba(255,255,255,.04); }

/* Slot-Vorschläge in Sidebar */
.slot-suggest-box { margin-top: 16px; }
.slot-suggest-title { font-weight: 600; margin-bottom: 8px; color: var(--muted); }
.slot-suggest-table { font-size: .95em; }
.slot-suggest-pts { font-weight: 700; }

/* ---------- Mode Toggle ---------- */
#mode-toggle {
  position: fixed; right: 16px; bottom: 16px; z-index: 100;
  width: 44px; height: 44px; border-radius: 50%;
  background: var(--box-bg);
  border: 1px solid var(--box-border);
}

/* ---------- Kalender-Panel ---------- */
#calendar {
  border-radius: var(--radius-lg);
  border: 1px solid var(--box-border);
  background: var(--box-bg);
}
.fc { --fc-border-color: rgba(255,255,255,.1); --fc-page-bg-color: transparent; }
.fc .fc-toolbar-title { font-size: 1.05em; }
.fc .fc-button {
  background: linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.04));
  border: 1px solid var(--box-border);
  color: var(--text-color);
  border-radius: 10px;
}
.fc .fc-button-primary:not(:disabled).fc-button-active,
.fc .fc-button-primary:not(:disabled):active {
  background: rgba(90,177,255,.18);
  border-color: var(--accent);
}

/* ---------- Links ---------- */
a { color: var(--accent); }
a:hover { text-decoration: underline; }

/* ---------- Kleinzeug ---------- */
.text-sm { font-size: .9em; }
.text-muted { color: var(--muted); }
.hidden { display: none !important; }